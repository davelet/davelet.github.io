---
layout: post
title: 使用IdeaVim插件入门
categories: [dev]
tags: [java]
---
大家使用快捷键的目的就是不想使用鼠标，手离开键盘去操作鼠标会“大幅度”降低我们的效率。虽然idea是以快捷键方便闻名的，不过在窗口编辑时，大部分快捷键都是系统提供的，或者还是离不开鼠标，比如选中一段文字、翻一页等。当然使用aceJump插件也能一定程度解决这个问题，另外keypromoter插件还能提示操作的快捷键；不过我这里还是想记录一下学习IdeaVim的历程。


# 安装
插件的安装简单，直接搜索ideavim就可以了。它的网址是[https://github.com/JetBrains/ideavim](https://github.com/JetBrains/ideavim)。

安装后不说别的操作，我觉得第一步是给插件开关设个快捷键。因为刚开始对它不熟悉，免不了频繁操作打开关闭。它图标在右下角，操作开关十分不方便。所以我加了个快捷码：control+option+command+v。

另外，为了以后方便，我们可以提前创建它的配置文件~/.ideavimrc，当然目前它是空的。

> 如果你有~/.vimrc文件，可以在~/.ideavimrc中导入：source ~/.vimrc

# 互通
Idea 自身提供了大量十分好用的快捷键，比如定位Java类command+O、查找Java方法option+command+O、罗列最近打开的文件列表command+E、打开Switcher control+Tab等等。

> 通过control+Tab打开switcher后，左侧的数字代表了打开和关闭对应视图的快捷键，比如左侧4代表Run窗口，那么可以通过command+4打开和关闭Run窗口（注意看，是command+4不是control+4）

ideavim提供了两个命令查询IDEA自己的快捷键。在命令模式下（就是使用vim的时候按了esc以后）输入冒号（只能英文模式，命令模式不支持中文）打开命令行，命令acionlist可以查询全部IDEA快捷键（回车翻行，空格翻页），可以提供参数进行模糊搜索。找到对应的操作后，无论是否有快捷键，都可以使用第二个命令action+操作名称执行对应的操作。比如输入
```
:action Run
```
会运行当前选定的运行类。

最后，我们还可以为ideavim提供自定义快捷键指向idea的操作。比如上面actionlist列出的Run操作，我们想在vim模式下通过按zr执行，可以在命令模式下输入
```
:nnoremap zr :action Run<CR>
```
> 后面的<CR>表示zr这个命令不用经过确认就能执行，不写的话，按下zr后vim会在命令行中键入命令:action Run，这时候需要按下回车才能运行。CR代表输入回车

# 使用
下面简单介绍一下ideavim的命令（一般和vim的表现一样，不过不排除个别的有差异）

## 翻页
先来点简单容易上手的，我觉得翻页是应该要掌握的。

 - 上翻一页：control+b
 - 上翻半页：control+u
 - 下翻一页：control+f
 - 下翻半页：control+d

如果觉得有点难记就背单词：f是forward，b是backword；u是up，d是down。

## 跳转
不借助鼠标操作，跳转是必须掌握的能力。
简单的hjkl就不说了。

 - 光标跳到屏幕第一行：shift+h
 - 光标跳到屏幕最后一行：shift+l
 - 光标跳到屏幕中央：shift+m
 - 光标所在行跳到屏幕中央：zz

这个也可以使用单词记忆：high/low/middle。

 - 光标跳到文件第一行：gg
 - 光标跳到文件最后一行：shift+g
 - 光标跳到第8行：g8g
 - 光标跳转到行首：0或^
 - 光标跳转到行末：$
 - 光标下移8行：8 control+d
 - 光标上移8行：8 control+u


## 编辑
如果对vim有过基础的同学来说，编辑能力应该是他们最熟悉的一块。

### 进入编辑模式
 - 从当前位置右侧开始编辑：a
 - 从当前位置左侧开始编辑：i （这个用的最多）
 - 从当前位置新起一行开始编辑：o（会在当前行和下一行之间插入一个空白行并定位光标）

### 跳转后编辑
 - 光标跳到行末并进入编辑模式：shift+a
 - 光标跳到行首并进入编辑模式：shift+i（idea中会略过行首空白符）
  

